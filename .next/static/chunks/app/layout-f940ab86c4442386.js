(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8562:function(e,n,t){Promise.resolve().then(t.t.bind(t,8877,23)),Promise.resolve().then(t.bind(t,552))},552:function(e,n,t){"use strict";t.d(n,{default:function(){return u}});var s=t(7437),r=t(7138),l=t(2265),a=t(1180);function u(){let[e,n]=(0,l.useState)(null);async function t(){await a.O.auth.signOut()}return(0,l.useEffect)(()=>{a.O.auth.getUser().then(e=>{var t,s,r;return n(null!==(r=null===(s=e.data)||void 0===s?void 0:null===(t=s.user)||void 0===t?void 0:t.email)&&void 0!==r?r:null)});let{data:e}=a.O.auth.onAuthStateChange((e,t)=>{var s,r;n(null!==(r=null==t?void 0:null===(s=t.user)||void 0===s?void 0:s.email)&&void 0!==r?r:null)});return()=>{e.subscription.unsubscribe()}},[]),(0,s.jsx)("div",{className:"border-b bg-white sticky top-0 z-10",children:(0,s.jsxs)("div",{className:"container h-14 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(r.default,{href:"/",className:"font-semibold",children:"AI Mini-App Hub"}),(0,s.jsx)(r.default,{href:"/submit",className:"text-sm text-gray-600 hover:underline",children:"提交应用"})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["已登录：",e]}),(0,s.jsx)("button",{className:"btn",onClick:t,children:"登出"})]}):(0,s.jsx)(r.default,{className:"btn",href:"/auth",children:"登录"})})]})})}},1180:function(e,n,t){"use strict";t.d(n,{O:function(){return u}});var s=t(4593),r=t(357);let l=r.env.NEXT_PUBLIC_SUPABASE_URL,a=r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,u=l&&a?(0,s.eI)(l,a):function(){let e=()=>{};return{from(){let e={select:()=>e,eq:()=>e,order:()=>Promise.resolve({data:[],error:null}),single:()=>Promise.resolve({data:null,error:{message:"not found (mock)"}}),insert:()=>Promise.resolve({data:null,error:{message:"unauthenticated (mock)"}}),update:()=>Promise.resolve({data:null,error:{message:"unauthenticated (mock)"}}),delete:()=>Promise.resolve({error:{message:"unauthenticated (mock)"}})};return e},rpc:async()=>({data:!1,error:null}),auth:{getUser:async()=>({data:{user:null},error:null}),getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:(n,t)=>({subscription:{unsubscribe:e}}),signOut:async()=>({error:null})},channel:()=>({on:()=>({subscribe:()=>({})})}),removeChannel:e}}()},8877:function(){}},function(e){e.O(0,[404,816,138,971,23,744],function(){return e(e.s=8562)}),_N_E=e.O()}]);